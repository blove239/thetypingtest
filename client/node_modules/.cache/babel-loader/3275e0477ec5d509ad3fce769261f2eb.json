{"ast":null,"code":"import _toConsumableArray from\"/home/brandon/jsproj/thetypingtest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/brandon/jsproj/thetypingtest/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef}from'react';import Title from'./Components/Title';import Stats from'./Components/Stats';import TimerCircle from'./Components/TimerCircle';import WordList from'./Components/WordList';import Footer from'./Components/Footer';import{TEST_WORDS,KEYCODE_BACKSPACE}from'./utils/constants';import randomWords from'random-words';import'./App.css';var App=function App(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),currentWordNum=_useState2[0],setCurrentWordNum=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),currentCharNum=_useState4[0],setCurrentCharNum=_useState4[1];var _useState5=useState(['']),_useState6=_slicedToArray(_useState5,2),userInputWords=_useState6[0],setUserInputWords=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),userInput=_useState8[0],setUserInput=_useState8[1];var _useState9=useState(randomWords({exactly:TEST_WORDS})),_useState10=_slicedToArray(_useState9,2),testWords=_useState10[0],setTestWords=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isTestActive=_useState12[0],setIsTestActive=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isTestDone=_useState14[0],setIsTestDone=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),resetTestState=_useState16[0],setResetTestWords=_useState16[1];var typingArea=useRef(null);var testComplete=function testComplete(){setIsTestActive(false);setIsTestDone(true);};var resetTest=function resetTest(){setCurrentWordNum(0);setCurrentCharNum(0);setUserInputWords(['']);setUserInput('');setTestWords(randomWords({exactly:TEST_WORDS}));setIsTestActive(false);setIsTestDone(false);setResetTestWords(true);};var onDeletion=function onDeletion(){if(userInputWords.length>1&&userInputWords[currentWordNum].length===0){setUserInputWords(userInputWords.slice(0,-1));setCurrentWordNum(currentWordNum-1);setCurrentCharNum(userInputWords.slice(0,-1).length);}else if(userInputWords[currentWordNum].length>0){setCurrentCharNum(currentCharNum-1);var userInputs=_toConsumableArray(userInputWords);userInputs[currentWordNum]=userInputs[currentWordNum].slice(0,-1);setUserInputWords(userInputs);}};var onSpacebar=function onSpacebar(){if(testWords[currentWordNum].length<=userInputWords[currentWordNum].length){setUserInputWords([].concat(_toConsumableArray(userInputWords),['']));setCurrentWordNum(currentWordNum+1);setCurrentCharNum(0);}};var onUserInput=function onUserInput(char){setCurrentCharNum(currentCharNum+1);var userInputs=_toConsumableArray(userInputWords);userInputs[currentWordNum]=userInputs[currentWordNum].concat(char);setUserInputWords(userInputs);};var handleOnKeyDown=function handleOnKeyDown(e){if(e.keyCode===KEYCODE_BACKSPACE){onDeletion();}};var handleOnChange=function handleOnChange(e){if(!isTestActive){setIsTestActive(true);setResetTestWords(false);}var lastTypedChar=e.target.value[e.target.value.length-1];if(e.target.value.length>userInput.length){if(lastTypedChar===' '){onSpacebar();}else{onUserInput(lastTypedChar);}}setUserInput(e.target.value);};var handleClick=function handleClick(){typingArea.current.focus();};return/*#__PURE__*/React.createElement(\"div\",{onClick:handleClick,className:\"app\"},/*#__PURE__*/React.createElement(\"input\",{className:\"input\",ref:typingArea,onKeyDown:handleOnKeyDown,onChange:handleOnChange,type:\"text\",disabled:isTestDone,autoFocus:true}),/*#__PURE__*/React.createElement(\"div\",{className:\"app-container\"},/*#__PURE__*/React.createElement(Title,null),/*#__PURE__*/React.createElement(WordList,{currentWordNum:currentWordNum,currentCharNum:currentCharNum,testWords:testWords,resetTestWords:resetTestState,userInputWords:userInputWords,isTestActive:isTestActive}),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(TimerCircle,{isTestActive:isTestActive,isTestDone:isTestDone,testComplete:testComplete,resetTest:resetTest})),/*#__PURE__*/React.createElement(\"div\",{className:\"column\"},/*#__PURE__*/React.createElement(Stats,{testWords:testWords,userInputWords:userInputWords,currentWordNum:currentWordNum,currentCharNum:currentCharNum,isTestActive:isTestActive,resetTestState:resetTestState}))),/*#__PURE__*/React.createElement(Footer,null)));};export default App;","map":{"version":3,"sources":["/home/brandon/jsproj/thetypingtest/src/App.js"],"names":["React","useState","useRef","Title","Stats","TimerCircle","WordList","Footer","TEST_WORDS","KEYCODE_BACKSPACE","randomWords","App","currentWordNum","setCurrentWordNum","currentCharNum","setCurrentCharNum","userInputWords","setUserInputWords","userInput","setUserInput","exactly","testWords","setTestWords","isTestActive","setIsTestActive","isTestDone","setIsTestDone","resetTestState","setResetTestWords","typingArea","testComplete","resetTest","onDeletion","length","slice","userInputs","onSpacebar","onUserInput","char","concat","handleOnKeyDown","e","keyCode","handleOnChange","lastTypedChar","target","value","handleClick","current","focus"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\nimport Title from './Components/Title';\nimport Stats from './Components/Stats';\nimport TimerCircle from './Components/TimerCircle';\nimport WordList from './Components/WordList';\nimport Footer from './Components/Footer';\nimport { TEST_WORDS, KEYCODE_BACKSPACE } from './utils/constants'\nimport randomWords from 'random-words';\nimport './App.css';\n\nconst App = () => {\n  const [currentWordNum, setCurrentWordNum] = useState(0);\n  const [currentCharNum, setCurrentCharNum] = useState(0);\n  const [userInputWords, setUserInputWords] = useState(['']);\n  const [userInput, setUserInput] = useState('');\n  const [testWords, setTestWords] = useState(randomWords({ exactly: TEST_WORDS }));\n  const [isTestActive, setIsTestActive] = useState(false);\n  const [isTestDone, setIsTestDone] = useState(false);\n  const [resetTestState, setResetTestWords] = useState(false);\n  const typingArea = useRef(null);\n\n  const testComplete = () => {\n    setIsTestActive(false);\n    setIsTestDone(true);\n  }\n\n  const resetTest = () => {\n    setCurrentWordNum(0);\n    setCurrentCharNum(0);\n    setUserInputWords(['']);\n    setUserInput('');\n    setTestWords(randomWords({ exactly: TEST_WORDS }));\n    setIsTestActive(false);\n    setIsTestDone(false);\n    setResetTestWords(true);\n  }\n\n  const onDeletion = () => {\n    if (userInputWords.length > 1 && userInputWords[currentWordNum].length === 0) {\n      setUserInputWords(userInputWords.slice(0, -1));\n      setCurrentWordNum(currentWordNum - 1);\n      setCurrentCharNum(userInputWords.slice(0, -1).length);\n    }\n    else if (userInputWords[currentWordNum].length > 0) {\n      setCurrentCharNum(currentCharNum - 1);\n      let userInputs = [...userInputWords];\n      userInputs[currentWordNum] = userInputs[currentWordNum].slice(0, -1);\n      setUserInputWords(userInputs);\n    }\n  }\n\n  const onSpacebar = () => {\n    if (testWords[currentWordNum].length <= userInputWords[currentWordNum].length) {\n      setUserInputWords([...userInputWords, '']);\n      setCurrentWordNum(currentWordNum + 1);\n      setCurrentCharNum(0);\n    }\n  }\n\n  const onUserInput = (char) => {\n    setCurrentCharNum(currentCharNum + 1);\n    let userInputs = [...userInputWords];\n    userInputs[currentWordNum] = userInputs[currentWordNum].concat(char);\n    setUserInputWords(userInputs);\n  }\n\n  const handleOnKeyDown = (e) => {\n    if (e.keyCode === KEYCODE_BACKSPACE) {\n      onDeletion();\n    }\n  }\n\n  const handleOnChange = (e) => {\n    if (!isTestActive) {\n      setIsTestActive(true);\n      setResetTestWords(false);\n    }\n\n    let lastTypedChar = e.target.value[e.target.value.length-1];\n    if(e.target.value.length > userInput.length) {\n      if(lastTypedChar === ' '){\n        onSpacebar();\n      } else {\n        onUserInput(lastTypedChar);\n      }\n    }\n    setUserInput(e.target.value)\n  }\n\n  const handleClick = () => {\n    typingArea.current.focus();\n  }\n\n  return (\n    <div onClick={handleClick} className='app'>\n      <input\n        className='input'\n        ref={typingArea}\n        onKeyDown={handleOnKeyDown}\n        onChange={handleOnChange}\n        type='text'\n        disabled={isTestDone}\n        autoFocus\n      />\n      <div className='app-container'>\n        <Title />\n        <WordList\n          currentWordNum={currentWordNum}\n          currentCharNum={currentCharNum}\n          testWords={testWords}\n          resetTestWords={resetTestState}\n          userInputWords={userInputWords}\n          isTestActive={isTestActive}\n        />\n        <div className='row'>\n          <div className='column'>\n            <TimerCircle\n              isTestActive={isTestActive}\n              isTestDone={isTestDone}\n              testComplete={testComplete}\n              resetTest={resetTest}\n            />\n          </div>\n          <div className='column'>\n            <Stats\n              testWords={testWords}\n              userInputWords={userInputWords}\n              currentWordNum={currentWordNum}\n              currentCharNum={currentCharNum}\n              isTestActive={isTestActive}\n              resetTestState={resetTestState}\n            />\n          </div>\n        </div>\n        <Footer/>\n      </div>\n    </div>\n  )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}