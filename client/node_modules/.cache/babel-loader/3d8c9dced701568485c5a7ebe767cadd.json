{"ast":null,"code":"var _jsxFileName = \"/home/brandon/jsproj/thetypingtest/src/App.js\";\nimport React, { useState, useRef } from 'react';\nimport Title from './Components/Title';\nimport Stats from './Components/Stats';\nimport TimerCircle from './Components/TimerCircle';\nimport WordList from './Components/WordList';\nimport Footer from './Components/Footer';\nimport { TEST_WORDS, KEYCODE_BACKSPACE } from './utils/constants';\nimport randomWords from 'random-words';\nimport './App.css';\n\nconst App = () => {\n  const [currentWordNum, setCurrentWordNum] = useState(0);\n  const [currentCharNum, setCurrentCharNum] = useState(0);\n  const [userInputWords, setUserInputWords] = useState(['']);\n  const [userInput, setUserInput] = useState('');\n  const [testWords, setTestWords] = useState(randomWords({\n    exactly: TEST_WORDS\n  }));\n  const [isTestActive, setIsTestActive] = useState(false);\n  const [isTestDone, setIsTestDone] = useState(false);\n  const [resetTestState, setResetTestWords] = useState(false);\n  const typingArea = useRef(null);\n\n  const testComplete = () => {\n    setIsTestActive(false);\n    setIsTestDone(true);\n  };\n\n  const resetTest = () => {\n    setCurrentWordNum(0);\n    setCurrentCharNum(0);\n    setUserInputWords(['']);\n    setUserInput('');\n    setTestWords(randomWords({\n      exactly: TEST_WORDS\n    }));\n    setIsTestActive(false);\n    setIsTestDone(false);\n    setResetTestWords(true);\n  };\n\n  const onDeletion = () => {\n    if (userInputWords.length > 1 && userInputWords[currentWordNum].length === 0) {\n      setUserInputWords(userInputWords.slice(0, -1));\n      setCurrentWordNum(currentWordNum - 1);\n      setCurrentCharNum(userInputWords.slice(0, -1).length);\n    } else if (userInputWords[currentWordNum].length > 0) {\n      setCurrentCharNum(currentCharNum - 1);\n      let userInputs = [...userInputWords];\n      userInputs[currentWordNum] = userInputs[currentWordNum].slice(0, -1);\n      setUserInputWords(userInputs);\n    }\n  };\n\n  const onSpacebar = () => {\n    if (testWords[currentWordNum].length <= userInputWords[currentWordNum].length) {\n      setUserInputWords([...userInputWords, '']);\n      setCurrentWordNum(currentWordNum + 1);\n      setCurrentCharNum(0);\n    }\n  };\n\n  const onUserInput = char => {\n    setCurrentCharNum(currentCharNum + 1);\n    let userInputs = [...userInputWords];\n    userInputs[currentWordNum] = userInputs[currentWordNum].concat(char);\n    setUserInputWords(userInputs);\n  };\n\n  const handleOnKeyDown = e => {\n    if (e.keyCode === KEYCODE_BACKSPACE) {\n      onDeletion();\n    }\n  };\n\n  const handleOnChange = e => {\n    if (!isTestActive) {\n      setIsTestActive(true);\n      setResetTestWords(false);\n    }\n\n    let lastTypedChar = e.target.value[e.target.value.length - 1];\n    let deletion = false;\n\n    if (e.target.value.length > userInput.length) {\n      deletion = false;\n    }\n\n    if (lastTypedChar === ' ' && !deletion) {\n      onSpacebar();\n    } else {\n      onUserInput(lastTypedChar);\n    }\n\n    setUserInput(e.target.value);\n  };\n\n  const handleClick = () => {\n    typingArea.current.focus();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onClick: handleClick,\n    className: \"app\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"input\",\n    ref: typingArea,\n    onKeyDown: handleOnKeyDown,\n    onChange: handleOnChange,\n    type: \"text\",\n    disabled: isTestDone,\n    autoFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(WordList, {\n    currentWordNum: currentWordNum,\n    currentCharNum: currentCharNum,\n    testWords: testWords,\n    resetTestWords: resetTestState,\n    userInputWords: userInputWords,\n    isTestActive: isTestActive,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TimerCircle, {\n    isTestActive: isTestActive,\n    isTestDone: isTestDone,\n    testComplete: testComplete,\n    resetTest: resetTest,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Stats, {\n    testWords: testWords,\n    userInputWords: userInputWords,\n    currentWordNum: currentWordNum,\n    currentCharNum: currentCharNum,\n    isTestActive: isTestActive,\n    resetTestState: resetTestState,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/brandon/jsproj/thetypingtest/src/App.js"],"names":["React","useState","useRef","Title","Stats","TimerCircle","WordList","Footer","TEST_WORDS","KEYCODE_BACKSPACE","randomWords","App","currentWordNum","setCurrentWordNum","currentCharNum","setCurrentCharNum","userInputWords","setUserInputWords","userInput","setUserInput","testWords","setTestWords","exactly","isTestActive","setIsTestActive","isTestDone","setIsTestDone","resetTestState","setResetTestWords","typingArea","testComplete","resetTest","onDeletion","length","slice","userInputs","onSpacebar","onUserInput","char","concat","handleOnKeyDown","e","keyCode","handleOnChange","lastTypedChar","target","value","deletion","handleClick","current","focus"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\nimport Title from './Components/Title';\nimport Stats from './Components/Stats';\nimport TimerCircle from './Components/TimerCircle';\nimport WordList from './Components/WordList';\nimport Footer from './Components/Footer';\nimport { TEST_WORDS, KEYCODE_BACKSPACE } from './utils/constants'\nimport randomWords from 'random-words';\nimport './App.css';\n\nconst App = () => {\n  const [currentWordNum, setCurrentWordNum] = useState(0);\n  const [currentCharNum, setCurrentCharNum] = useState(0);\n  const [userInputWords, setUserInputWords] = useState(['']);\n  const [userInput, setUserInput] = useState('');\n  const [testWords, setTestWords] = useState(randomWords({ exactly: TEST_WORDS }));\n  const [isTestActive, setIsTestActive] = useState(false);\n  const [isTestDone, setIsTestDone] = useState(false);\n  const [resetTestState, setResetTestWords] = useState(false);\n  const typingArea = useRef(null);\n\n  const testComplete = () => {\n    setIsTestActive(false);\n    setIsTestDone(true);\n  }\n\n  const resetTest = () => {\n    setCurrentWordNum(0);\n    setCurrentCharNum(0);\n    setUserInputWords(['']);\n    setUserInput('');\n    setTestWords(randomWords({ exactly: TEST_WORDS }));\n    setIsTestActive(false);\n    setIsTestDone(false);\n    setResetTestWords(true);\n  }\n\n  const onDeletion = () => {\n    if (userInputWords.length > 1 && userInputWords[currentWordNum].length === 0) {\n      setUserInputWords(userInputWords.slice(0, -1));\n      setCurrentWordNum(currentWordNum - 1);\n      setCurrentCharNum(userInputWords.slice(0, -1).length);\n    }\n    else if (userInputWords[currentWordNum].length > 0) {\n      setCurrentCharNum(currentCharNum - 1);\n      let userInputs = [...userInputWords];\n      userInputs[currentWordNum] = userInputs[currentWordNum].slice(0, -1);\n      setUserInputWords(userInputs);\n    }\n  }\n\n  const onSpacebar = () => {\n    if (testWords[currentWordNum].length <= userInputWords[currentWordNum].length) {\n      setUserInputWords([...userInputWords, '']);\n      setCurrentWordNum(currentWordNum + 1);\n      setCurrentCharNum(0);\n    }\n  }\n\n  const onUserInput = (char) => {\n    setCurrentCharNum(currentCharNum + 1);\n    let userInputs = [...userInputWords];\n    userInputs[currentWordNum] = userInputs[currentWordNum].concat(char);\n    setUserInputWords(userInputs);\n  }\n\n  const handleOnKeyDown = (e) => {\n    if (e.keyCode === KEYCODE_BACKSPACE) {\n      onDeletion();\n    }\n  }\n\n  const handleOnChange = (e) => {\n    if (!isTestActive) {\n      setIsTestActive(true);\n      setResetTestWords(false);\n    }\n\n    let lastTypedChar = e.target.value[e.target.value.length-1];\n    let deletion = false;\n    if(e.target.value.length > userInput.length) {\n      deletion = false;\n    }\n    if(lastTypedChar === ' ' && !deletion){\n      onSpacebar();\n    } else {\n      onUserInput(lastTypedChar);\n    }\n    setUserInput(e.target.value)\n  }\n\n  const handleClick = () => {\n    typingArea.current.focus();\n  }\n\n  return (\n    <div onClick={handleClick} className='app'>\n      <input\n        className='input'\n        ref={typingArea}\n        onKeyDown={handleOnKeyDown}\n        onChange={handleOnChange}\n        type='text'\n        disabled={isTestDone}\n        autoFocus\n      />\n      <div className='app-container'>\n        <Title />\n        <WordList\n          currentWordNum={currentWordNum}\n          currentCharNum={currentCharNum}\n          testWords={testWords}\n          resetTestWords={resetTestState}\n          userInputWords={userInputWords}\n          isTestActive={isTestActive}\n        />\n        <div className='row'>\n          <div className='column'>\n            <TimerCircle\n              isTestActive={isTestActive}\n              isTestDone={isTestDone}\n              testComplete={testComplete}\n              resetTest={resetTest}\n            />\n          </div>\n          <div className='column'>\n            <Stats\n              testWords={testWords}\n              userInputWords={userInputWords}\n              currentWordNum={currentWordNum}\n              currentCharNum={currentCharNum}\n              isTestActive={isTestActive}\n              resetTestState={resetTestState}\n            />\n          </div>\n        </div>\n        <Footer/>\n      </div>\n    </div>\n  )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}